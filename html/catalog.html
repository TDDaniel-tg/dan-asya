<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ö–∞—Ç–∞–ª–æ–≥</title>
    <link rel="stylesheet" href="../css/styles.css">
    <link rel="stylesheet" href="/css/catalog.css">
</head>
<body>

    
     <!-- –•–≠–î–ï–† -->
     <header class="header">
      <div class="burger" onclick="toggleMenu()">
        <div></div>
        <div></div>
        <div></div>
      </div>
    
      <div class="logo">
        <img src="logo.png" alt="Frag Store" />
      </div>
    
      <nav class="navigation">
        <a href="/">–ì–ª–∞–≤–Ω–∞—è</a>
        <a href="catalog-all.html">–ö–∞—Ç–∞–ª–æ–≥</a>
        <div class="pages-menu" id="pagesMenu">
          <a href="#">–°—Ç—Ä–∞–Ω–∏—Ü—ã</a>
          <div class="dropdown">
            <a href="about.html">–û –Ω–∞—Å</a>
            <a href="how-to-order.html">–ö–∞–∫ —Å–¥–µ–ª–∞—Ç—å –∑–∞–∫–∞–∑</a>
            <a href="delivery-pay.html">–î–æ—Å—Ç–∞–≤–∫–∞ –∏ –æ–ø–ª–∞—Ç–∞</a>
          </div>
        </div>
        <a href="contacts.html">–ö–æ–Ω—Ç–∞–∫—Ç—ã</a>
      </nav>
    
      <!-- –ù–æ–≤—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –∏–∫–æ–Ω–æ–∫, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä—É–µ—Ç—Å—è —Å–ø—Ä–∞–≤–∞ -->
      <div class="header-right">
        <div class="icons" id="login-container">
          <!-- –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Å—Å—ã–ª–∫—É "–í–æ–π—Ç–∏" -->
          <a href="login.html" class="icon login-icon">–í–æ–π—Ç–∏</a>
        </div>
        <div class="icons">
          <div class="icon search-icon" onclick="toggleSearch()">üîç</div>
          <a href="cart.html" class="icon cart-icon">üõí</a>
        </div>
      </div>
    
      <!-- –ü–æ–ª–µ –ø–æ–∏—Å–∫–∞ -->
      <div class="search-bar hidden" id="searchBar">
        <input type="text" placeholder="–ü–æ–∏—Å–∫..." />
      </div>
    </header>
      
    <script>
      // –§—É–Ω–∫—Ü–∏—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –º–æ–±–∏–ª—å–Ω–æ–≥–æ –º–µ–Ω—é
      function toggleMenu() {
        const burger = document.querySelector('.burger');
        const mobileNav = document.querySelector('.mobile-nav');
        burger.classList.toggle('open');
        if (mobileNav) mobileNav.classList.toggle('active');
      }
    
      // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –ø–æ–¥–º–µ–Ω—é "–°—Ç—Ä–∞–Ω–∏—Ü—ã"
      const pagesMenu = document.getElementById('pagesMenu');
      pagesMenu.addEventListener('click', (event) => {
        event.stopPropagation();
        pagesMenu.classList.toggle('open');
      });
      document.addEventListener('click', () => {
        pagesMenu.classList.remove('open');
      });
    
      // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Å—Ç—Ä–æ–∫–∏ –ø–æ–∏—Å–∫–∞
      function toggleSearch() {
        const searchBar = document.getElementById('searchBar');
        searchBar.classList.toggle('hidden');
      }
    
      // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –≤—ã—Ö–æ–¥–∞ (—É–¥–∞–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞ –∏ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ –≥–ª–∞–≤–Ω—É—é)
      function logout() {
        localStorage.removeItem('token');
        // –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è, –Ω–∞–ø—Ä–∏–º–µ—Ä, –æ—á–∏—Å—Ç–∫—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö
        window.location.href = '/';
      }
    
      // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏: –µ—Å–ª–∏ —Ç–æ–∫–µ–Ω –µ—Å—Ç—å, –∑–∞–º–µ–Ω—è–µ–º –±–ª–æ–∫ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –Ω–∞ —Å—Å—ã–ª–∫—É –≤ –ª–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç —Å –∫–Ω–æ–ø–∫–æ–π "–í—ã–π—Ç–∏"
      document.addEventListener('DOMContentLoaded', () => {
        const token = localStorage.getItem('token');
        const loginContainer = document.getElementById('login-container');
        if (token) {
          loginContainer.innerHTML = `
            <a href="private.html" class="icon user-icon">üôç‚Äç‚ôÇÔ∏è</a>
            <button onclick="logout()" class="logout-btn">–í—ã–π—Ç–∏</button>
          `;
        }
      });
    </script>
    

<h1>–ö–∞—Ç–∞–ª–æ–≥ —Ç–æ–≤–∞—Ä–æ–≤</h1>
<div id="product-list"></div>

<script>
    document.addEventListener("DOMContentLoaded", function () {
        // –ü–æ–ª—É—á–∞–µ–º –ø–∞—Ä–∞–º–µ—Ç—Ä –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏–∑ URL
        const urlParams = new URLSearchParams(window.location.search);
        const category = urlParams.get("category");

        // –ë–∞–∑–∞ —Ç–æ–≤–∞—Ä–æ–≤ (—Å –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π, –æ–ø–∏—Å–∞–Ω–∏–π –∏ —Ü–µ–Ω)
        const products = [
            { name: "–§—É—Ç–±–æ–ª–∫–∞", category: "clothes", img: "shirt.jpg", description: "–ö–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–∞—è —Ñ—É—Ç–±–æ–ª–∫–∞ –¥–ª—è –µ–∂–µ–¥–Ω–µ–≤–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.", price: 500, id: 1 },
            { name: "–ö—É—Ä—Ç–∫–∞", category: "clothes", img: "jacket.jpg", description: "–¢–µ–ø–ª–∞—è –∫—É—Ä—Ç–∫–∞ –¥–ª—è —Ö–æ–ª–æ–¥–Ω–æ–π –ø–æ–≥–æ–¥—ã.", price: 1500, id: 2 },
            { name: "–ö—Ä–æ—Å—Å–æ–≤–∫–∏", category: "shoes", img: "sneakers.jpg", description: "–£–¥–æ–±–Ω—ã–µ –∫—Ä–æ—Å—Å–æ–≤–∫–∏ –¥–ª—è —Å–ø–æ—Ä—Ç–∞.", price: 2000, id: 3 },
            { name: "–¢—É—Ñ–ª–∏", category: "shoes", img: "shoes.jpg", description: "–≠–ª–µ–≥–∞–Ω—Ç–Ω—ã–µ —Ç—É—Ñ–ª–∏ –¥–ª—è –æ—Å–æ–±—ã—Ö —Å–ª—É—á–∞–µ–≤.", price: 1800, id: 4 },
            { name: "–ì—É–±–Ω–∞—è –ø–æ–º–∞–¥–∞", category: "cosmetics", img: "lipstick.jpg", description: "–ö—Ä–∞—Å–Ω–∞—è –≥—É–±–Ω–∞—è –ø–æ–º–∞–¥–∞ —Å –Ω–∞—Å—ã—â–µ–Ω–Ω—ã–º —Ü–≤–µ—Ç–æ–º.", price: 300, id: 5 },
            { name: "–¢—É—à—å –¥–ª—è —Ä–µ—Å–Ω–∏—Ü", category: "cosmetics", img: "mascara.jpg", description: "–¢—É—à—å –¥–ª—è —É–¥–ª–∏–Ω–µ–Ω–∏—è —Ä–µ—Å–Ω–∏—Ü.", price: 400, id: 6 },
            { name: "–°—É–º–∫–∞", category: "accessories", img: "bag.jpg", description: "–ú–æ–¥–Ω–∞—è —Å—É–º–∫–∞ –¥–ª—è –ø—Ä–æ–≥—É–ª–æ–∫.", price: 1200, id: 7 },
            { name: "–û—á–∫–∏", category: "accessories", img: "glasses.jpg", description: "–°—Ç–∏–ª—å–Ω—ã–µ —Å–æ–ª–Ω—Ü–µ–∑–∞—â–∏—Ç–Ω—ã–µ –æ—á–∫–∏.", price: 800, id: 8 }
        ];

        // –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Ç–æ–≤–∞—Ä–æ–≤ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
        const filteredProducts = category
            ? products.filter(product => product.category === category)
            : products;

        // –í—ã–≤–æ–¥ —Ç–æ–≤–∞—Ä–æ–≤
        const productList = document.getElementById("product-list");
        productList.innerHTML = filteredProducts.map(product => `
            <div class="product-card">
                <img src="../images/${product.img}" alt="${product.name}">
                <h2>${product.name}</h2>
                <p>${product.description}</p>
                <p>–¶–µ–Ω–∞: ${product.price}‚ÇΩ</p>
                <button class="add-to-cart" onclick="addToCart(${product.id})">–î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ—Ä–∑–∏–Ω—É</button>
            </div>
        `).join("");
    });

    // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ –≤ –∫–æ—Ä–∑–∏–Ω—É
    function addToCart(productId) {
        let cart = JSON.parse(localStorage.getItem('cart')) || [];
        
        // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å–ª–∏ —Ç–æ–≤–∞—Ä —É–∂–µ –µ—Å—Ç—å –≤ –∫–æ—Ä–∑–∏–Ω–µ
        const productInCart = cart.find(item => item.id === productId);
        
        if (!productInCart) {
            const product = getProductById(productId);
            if (product) {
                cart.push(product);
                localStorage.setItem('cart', JSON.stringify(cart));
                updateCartCount();
            }
        }
    }

    // –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ç–æ–≤–∞—Ä–µ –ø–æ ID
    function getProductById(id) {
        const products = [
            { name: "–§—É—Ç–±–æ–ª–∫–∞", category: "clothes", img: "shirt.jpg", description: "–ö–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–∞—è —Ñ—É—Ç–±–æ–ª–∫–∞ –¥–ª—è –µ–∂–µ–¥–Ω–µ–≤–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.", price: 500, id: 1 },
            { name: "–ö—É—Ä—Ç–∫–∞", category: "clothes", img: "jacket.jpg", description: "–¢–µ–ø–ª–∞—è –∫—É—Ä—Ç–∫–∞ –¥–ª—è —Ö–æ–ª–æ–¥–Ω–æ–π –ø–æ–≥–æ–¥—ã.", price: 1500, id: 2 },
            { name: "–ö—Ä–æ—Å—Å–æ–≤–∫–∏", category: "shoes", img: "sneakers.jpg", description: "–£–¥–æ–±–Ω—ã–µ –∫—Ä–æ—Å—Å–æ–≤–∫–∏ –¥–ª—è —Å–ø–æ—Ä—Ç–∞.", price: 2000, id: 3 },
            { name: "–¢—É—Ñ–ª–∏", category: "shoes", img: "shoes.jpg", description: "–≠–ª–µ–≥–∞–Ω—Ç–Ω—ã–µ —Ç—É—Ñ–ª–∏ –¥–ª—è –æ—Å–æ–±—ã—Ö —Å–ª—É—á–∞–µ–≤.", price: 1800, id: 4 },
            { name: "–ì—É–±–Ω–∞—è –ø–æ–º–∞–¥–∞", category: "cosmetics", img: "lipstick.jpg", description: "–ö—Ä–∞—Å–Ω–∞—è –≥—É–±–Ω–∞—è –ø–æ–º–∞–¥–∞ —Å –Ω–∞—Å—ã—â–µ–Ω–Ω—ã–º —Ü–≤–µ—Ç–æ–º.", price: 300, id: 5 },
            { name: "–¢—É—à—å –¥–ª—è —Ä–µ—Å–Ω–∏—Ü", category: "cosmetics", img: "mascara.jpg", description: "–¢—É—à—å –¥–ª—è —É–¥–ª–∏–Ω–µ–Ω–∏—è —Ä–µ—Å–Ω–∏—Ü.", price: 400, id: 6 },
            { name: "–°—É–º–∫–∞", category: "accessories", img: "bag.jpg", description: "–ú–æ–¥–Ω–∞—è —Å—É–º–∫–∞ –¥–ª—è –ø—Ä–æ–≥—É–ª–æ–∫.", price: 1200, id: 7 },
            { name: "–û—á–∫–∏", category: "accessories", img: "glasses.jpg", description: "–°—Ç–∏–ª—å–Ω—ã–µ —Å–æ–ª–Ω—Ü–µ–∑–∞—â–∏—Ç–Ω—ã–µ –æ—á–∫–∏.", price: 800, id: 8 }
        ];
        
        return products.find(product => product.id === id);
    }

    // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Ç–æ–≤–∞—Ä–æ–≤ –≤ –∫–æ—Ä–∑–∏–Ω–µ
    function updateCartCount() {
        const cart = JSON.parse(localStorage.getItem('cart')) || [];
        const cartCount = document.getElementById('cart-count');
        cartCount.textContent = cart.length;
    }

    // –û–±–Ω–æ–≤–ª—è–µ–º —Å—á–µ—Ç—á–∏–∫ –∫–æ—Ä–∑–∏–Ω—ã –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
    updateCartCount();
</script>

</body>
</html>
